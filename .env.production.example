# Configuration Production pour GCP
# IMPORTANT: Ce fichier est un exemple. Les vraies valeurs doivent être dans Secret Manager

APP_NAME=Veloflott
APP_ENV=production
APP_KEY=  # Générer avec: php artisan key:generate --show
APP_DEBUG=false
APP_URL=https://veloflott-api-99101461725.europe-west9.run.app

# CORS - Origines autorisées (séparées par des virgules)
CORS_ALLOWED_ORIGINS=https://veloflott-pwa-icgik5mfkq-od.a.run.app,https://veloflott-api-99101461725.europe-west9.run.app

APP_LOCALE=en
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=en_US

APP_MAINTENANCE_DRIVER=file

BCRYPT_ROUNDS=12

LOG_CHANNEL=stderr
LOG_STACK=single
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=error

# Cloud SQL (via Unix Socket)
DB_CONNECTION=pgsql
DB_HOST=/cloudsql/project-08eb5a0c-d370-4877-a5a:europe-west9:veloflott-db
DB_PORT=5432
DB_DATABASE=veloflott_db
DB_USERNAME=veloflott_user
DB_PASSWORD=

SESSION_DRIVER=database
SESSION_LIFETIME=120
SESSION_ENCRYPT=false
SESSION_PATH=/
SESSION_DOMAIN=null

BROADCAST_CONNECTION=log
FILESYSTEM_DISK=gcs
QUEUE_CONNECTION=database

CACHE_STORE=database

# GCS (Google Cloud Storage)
GCS_BUCKET=veloflott-storage
GCS_PATH_PREFIX=
GCS_STORAGE_API_URI=https://storage.googleapis.com

# Mail (Configuration selon votre provider)
MAIL_MAILER=smtp
MAIL_HOST=smtp.sendgrid.net
MAIL_PORT=587
MAIL_USERNAME=apikey
MAIL_PASSWORD=  # À stocker dans Secret Manager
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS="noreply@veloflott.com"
MAIL_FROM_NAME="${APP_NAME}"

VITE_APP_NAME="${APP_NAME}"

# Keycloak (URL publique)
KEYCLOAK_URL=https://keycloak.votre-domaine.com
KEYCLOAK_PUBLIC_URL=https://keycloak.votre-domaine.com
KEYCLOAK_REALM=veloflott
KEYCLOAK_CLIENT_ID=veloflott-api
KEYCLOAK_CLIENT_SECRET=  # À stocker dans Secret Manager
KEYCLOAK_PUBLIC_KEY=  # Clé publique depuis Keycloak
KEYCLOAK_TLS_VERIFY=true
